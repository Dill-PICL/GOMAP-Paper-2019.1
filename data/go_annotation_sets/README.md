In this folder you will find the GO annotation datasets that were used in the publication.
They are organized in subfolders by genome and then named by source, so the file `Glycine_max/GOMAP.gaf.gz` would be the Glycine max (soybean) annotation set generated by GOMAP, `Glycine_max/Gramene49.gaf.gz` would be an annotation set for Glycine max downloaded from Gramene v49.
If you intend to work with any of the annotation sets beyond just reproducing this paper, I recommend you get them from their original source in case there was an update. These are only kept here for reproducibility of the publication.

# Dataset Sources
## GOMAP
All datasets generated by GOMAP are published on the [GOMAP Datasets webpage](https://dill-picl.org/projects/gomap/gomap-datasets/).
After clicking on the DOI you can find the dataset in `3_final-result/3.1_${dataset}.cleaned.gaf.gz` or in the `e.agg_data` folder (different contributors used different conventions).

## Gold Standard
Unless otherwise noted, the Gold Standards were downloaded from [Gramene Biomart](http://ensembl.gramene.org/biomart/martview) with the following selections:

1. *CHOOSE DATABASE* -> Plant Genes 63
2. *CHOOSE DATASET* -> `<plant species/annotation>`
3. on the left hand side, select *Filters*, open *GENE ONTOLOGY* and select all evidence codes but IEA (IBA,IC,IDA,IEP,IGC,IGI,IMP,IPI,ISO,ISS,NAS,ND,RCA,TAS)
4. again on the left hand side, select *Attributes*, open *GENE* and make sure only Gene stable ID is checked, then open *EXTERNAL* and check _GO term accession, GO term evidence code,_ and _GO domain_ (in exactly this order).
5. Then click *Results* in the black top bar menu and export all results to a TSV file (check *Unique results only*).

The file was saved to `GoldStandard.tsv` and then converted to GAF format using our `gramene2gaf.sh` script: `bash ../gramene2gaf.sh GoldStandard.tsv "Gramene/Plant_Genes_63/<plant species/annotation>" "<taxon id>" > GoldStandard.gaf`

## Gramene63-IEA
Completely analogous to the Gold Standard, just select entries with IEA evidence code.

## Phytozome12
Annotations were downloaded from [Phytozome Biomart](https://phytozome.jgi.doe.gov/biomart/martview/), selecting V12 Genomes and Families, V12 Genomes, and then Filtering for the species and only selecting _Gene Name_ and _GO ID_ as the output attributes.
Results were downloaded in TSV format and saved to `Phytozome12.tsv` and then converted to GAF using the `phytozome2gaf.rb` script: `ruby ../phytozome2gaf.rb Phytozome12.tsv "Phytozome12/Genomes/Vigna_unguiculata_v1.1_early_release" "3917" ../../../analyses/cleanup/results/GO_aspects.json > Phytozome12.gaf`.
This requires the file `GO_aspects.json` (as Phytozome does not provide the aspect of each GO term unlike Gramene), which is generated during cleanup.

## Exceptions
Any exceptions from these sources are noted in individual READMEs in that specific species folder.

# Map Files
In some cases, annotations from different sources refer to the same structural annotation but use different naming conventions for the gene ids.
To allow the analyses to understand these different names, TSV map files can be provided to unify all datasets on one gene id by replacing the `db_object_id` value in the GAF file with another value during the cleanup step.
For example, the `Zea_mays.B73.v3/GoldStandard.gaf.gz` uses different gene ids than the other annotations.
So a file `Zea_mays.B73.v3/GoldStandard.map.gz` was created that maps the ids present in the Gold Standard to the ids used in the other annotations:
```
a1	GRMZM2G026930
abph1	GRMZM2G035688
add1	GRMZM2G120178
```
This file will automatically be detected by the cleanup step and the cleaned up GAF file will contain the new gene ids (GRMZM2G026930 instead of a1).
A gzipped map file can be provided for each dataset, simply name the file `${dataset}.map.gz` and the cleanup step will detect it. 
Map files do not need to be complete, any id not present in the map file will remain unchanged.
